<%- include('partials/head') %>
<%- include('partials/navbar') %>

<main>
  <section class="hero" id="hero">
    <div class="hero-bg-orb"></div>

    <div class="hero-inner">
      <div class="hero-content">
        <div class="hero-badge" data-animate="fade-up">
          Math Learning Platform
        </div>

        <h1 class="hero-title" data-animate="fade-up" data-delay="0.1">
          Learn Math<br />
          The Smart Way
        </h1>

        <p class="hero-subtitle" data-animate="fade-up" data-delay="0.25">
          Premium darslar, adaptiv testlar va jonli statistika bilan matematikani
          zamonaviy uslubda o‘rganing.
        </p>

        <div class="hero-actions" data-animate="fade-up" data-delay="0.4">
          <a href="/register-course" class="btn btn-primary">Get Started</a>
          <a href="#results" class="btn btn-secondary">View Results</a>
        </div>
      </div>
    </div>
  </section>

  <section class="section" id="home-teacher" data-aos="fade-up">
    <div class="section-inner">
      <div class="teacher-highlight">
        <div class="teacher-photo-ring">
          <div class="teacher-photo-circle"></div>
        </div>
        <div class="teacher-info-block">
          <span class="badge">Asosiy trener</span>
          <h2 class="section-title">Matematika bo‘yicha <span>tajribali murabbiy</span></h2>
          <p>Math Clubdagi asosiy o‘qituvchi — matematika fanidan xalqaro olimpiadalar ishtirokchisi va ko‘plab respublika g‘oliblarini yetishtirgan murabbiy.</p>
          <ul class="teacher-points">
            <li>10+ yillik tajriba</li>
            <li>Olimpiada va OTMga tayyorlov kurslari</li>
            <li>Qadam-baqadam tushuntirish va kuchli nazorat</li>
          </ul>
          <a href="/teacher" class="btn-outline">O‘qituvchi haqida batafsil</a>
        </div>
      </div>
    </div>
  </section>

  <section class="section" id="tests-invite" data-aos="fade-up">
    <div class="section-inner">
      <div class="card tests-invite-card">
        <h2 class="section-title">Bilimingizni <span>onlayn testlar</span> bilan sinab ko‘ring</h2>
        <p>Har bir mavzudan keyin qisqa testlar orqali natijangizni tekshirib boring. Test natijalari shaxsiy kabinetingizda saqlanadi.</p>
        <button id="goToTestsBtn" class="btn-primary btn-bounce">Test ishlash</button>
      </div>
    </div>
  </section>

  <section class="section" id="about" data-aos="fade-up">
    <div class="section-inner">
      <h2 class="section-title">Nega aynan <span>Math Club?</span></h2>
      <div class="section-grid">
        <div class="card">
          <h3>Premium darslar</h3>
          <p>Oliy liga matematik kurslari: maktab, olimpiada va OTMga tayyorgarlik.</p>
        </div>
        <div class="card">
          <h3>Kuchli metodika</h3>
          <p>Qadam-baqadam tushuntirish, ko‘plab misollar va testlar orqali mustahkamlash.</p>
        </div>
        <div class="card">
          <h3>Natija kafolati</h3>
          <p>Onlayn monitoring, shaxsiy kabinet va real statistik natijalar.</p>
        </div>
      </div>
    </div>
  </section>

  <section class="section results" id="results" data-aos="fade-up">
    <div class="section-inner">
      <h2 class="section-title">O‘quvchilar <span>natijalari</span></h2>
      <div class="swiper results-swiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide magnify-container">
            <img src="/images/result1.jpg" alt="Natija 1" class="magnify-image" />
            <div class="magnifier-lens"></div>
          </div>
          <div class="swiper-slide magnify-container">
            <img src="/images/result2.jpg" alt="Natija 2" class="magnify-image" />
            <div class="magnifier-lens"></div>
          </div>
          <div class="swiper-slide magnify-container">
            <img src="/images/result3.jpg" alt="Natija 3" class="magnify-image" />
            <div class="magnifier-lens"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section" id="cta" data-aos="fade-up">
    <div class="section-inner section-cta">
      <div>
        <h2 class="section-title">Bugunoq <span>kursga yoziling</span></h2>
        <p>O‘quvchilaringizni eng yaxshi matematika muhitiga olib keling.</p>
      </div>
      <a href="/register-course" class="btn-primary btn-bounce">Ro‘yxatdan o‘tish</a>
    </div>
  </section>
</main>

<script>
  (function () {
    var items = document.querySelectorAll('[data-animate]');
    var orb = document.querySelector('.hero-bg-orb');

    if (!('IntersectionObserver' in window)) {
      items.forEach(function (el) {
        el.classList.add('is-visible');
      });
      if (orb) orb.classList.add('hero-bg-zoomed');
      return;
    }

    var observer = new IntersectionObserver(
      function (entries) {
        entries.forEach(function (entry) {
          if (entry.isIntersecting) {
            var el = entry.target;
            var delayAttr = el.getAttribute('data-delay');
            if (delayAttr) {
              el.style.setProperty('--delay', delayAttr + 's');
            }
            el.classList.add('is-visible');
            observer.unobserve(el);
          }
        });

        var hero = document.getElementById('hero');
        if (hero && orb) {
          var rect = hero.getBoundingClientRect();
          var vh = window.innerHeight || document.documentElement.clientHeight;
          var heroInView = rect.top < vh * 0.6 && rect.bottom > vh * 0.2;
          if (heroInView) {
            orb.classList.add('hero-bg-zoomed');
          } else {
            orb.classList.remove('hero-bg-zoomed');
          }
        }
      },
      { threshold: 0.2 }
    );

    items.forEach(function (el) {
      observer.observe(el);
    });
  })();
</script>

<%- include('partials/footer') %>
